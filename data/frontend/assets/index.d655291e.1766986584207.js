import{z as k,r as _,a0 as U,o as q,l as C,w as l,A as K,aC as h,n,B as y,J as s,C as B,m as b,E as T}from"./index.eb4377b0.1766986584207.js";import{l as I,e as N}from"./consts.72579ead.1766986584207.js";import{S as Q}from"./SubmissionTable.534df1c8.1766986584207.js";import{_ as V}from"./utils.2f0dea37.1766986584207.js";import{_ as A}from"./Input.4c626101.1766986584207.js";import{_ as O}from"./FormItem.d0d13dbd.1766986584207.js";import{_ as R}from"./Select.324054db.1766986584207.js";import{_ as j}from"./Form.f0be8e2f.1766986584207.js";import{_ as D}from"./LayoutContent.6fc7b93d.1766986584207.js";import{a as E}from"./DataTable.8d4e61d5.1766986584207.js";import"./Time.2d3501e9.1766986584207.js";import"./index.225da447.1766986584207.js";import"./Eye.1e3444f4.1766986584207.js";import"./Spin.3ae5ee7d.1766986584207.js";import"./Tag.ff1efa14.1766986584207.js";import"./ArrowDown.1ae467bd.1766986584207.js";import"./Checkbox.7ca0c7f4.1766986584207.js";import"./RadioGroup.668f9840.1766986584207.js";import"./Tooltip.2d4fe76d.1766986584207.js";import"./Forward.bac4cf6f.1766986584207.js";const J=b("h1",null,"\u63D0\u4EA4\u5217\u8868",-1),F={style:{"margin-top":"30px","text-align":"center"}},_e={__name:"index",setup(G){const u=k(),a=_({pageSize:20,page:1,count:0}),o=_({user__username:"",problem__id:"",language:null,status:null}),d=_([]),m=_(!1),p=V(o.value,a.value,u),v=(f=!1)=>{if(u.name==="submission_list"){for(const e in o.value)if(u.query[e]){let i=u.query[e];e==="status"&&(i=parseInt(i)),o.value[e]=i}for(const e in a.value)u.query[e]&&(a.value[e]=parseInt(u.query[e]));f!==!0&&(m.value=!0),K.get("/submission/",{params:{limit:a.value.pageSize,offset:(a.value.page-1)*a.value.pageSize,...o.value}}).then(e=>{a.value.count=e.count,d.value=e.results}).finally(()=>{m.value=!1})}};return U(()=>u.query,v),v(),(f,e)=>{const i=A,r=O,c=R,w=T,z=j,g=D,S=E,x=h;return q(),C(x,null,{default:l(()=>[J,n(g,null,{default:l(()=>[n(z,{inline:""},{default:l(()=>[n(r,{label:"\u7528\u6237\u540D\u79F0"},{default:l(()=>[n(i,{value:o.value.user__username,"onUpdate:value":e[0]||(e[0]=t=>o.value.user__username=t),onKeydown:y(s(p),["enter"])},null,8,["value","onKeydown"])]),_:1}),n(r,{label:"\u9898\u76EEID"},{default:l(()=>[n(i,{value:o.value.problem__id,"onUpdate:value":e[1]||(e[1]=t=>o.value.problem__id=t),type:"number",onKeydown:y(s(p),["enter"])},null,8,["value","onKeydown"])]),_:1}),n(r,{label:"\u8BED\u8A00"},{default:l(()=>[n(c,{value:o.value.language,"onUpdate:value":e[2]||(e[2]=t=>o.value.language=t),options:s(I),clearable:"",style:{"min-width":"125px"}},null,8,["value","options"])]),_:1}),n(r,{label:"\u72B6\u6001"},{default:l(()=>[n(c,{value:o.value.status,"onUpdate:value":e[3]||(e[3]=t=>o.value.status=t),options:s(N),clearable:"",style:{"min-width":"125px"}},null,8,["value","options"])]),_:1}),n(r,null,{default:l(()=>[n(w,{type:"primary",onClick:s(p)},{default:l(()=>[B("\u641C\u7D22")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),n(g,null,{default:l(()=>[n(Q,{data:d.value,loading:m.value,onRefresh:v},null,8,["data","loading"])]),_:1}),n(g,null,{default:l(()=>[b("div",F,[n(S,{page:a.value.page,"onUpdate:page":[e[4]||(e[4]=t=>a.value.page=t),s(p)],"page-size":a.value.pageSize,"onUpdate:pageSize":[e[5]||(e[5]=t=>a.value.pageSize=t),e[6]||(e[6]=t=>{a.value.pageSize=t,a.value.page=1,s(p)()})],"item-count":a.value.count,"show-size-picker":"","show-quick-jumper":"","page-sizes":[10,20,50]},null,8,["page","page-size","item-count","onUpdate:page"])])]),_:1})]),_:1})}}};export{_e as default};
