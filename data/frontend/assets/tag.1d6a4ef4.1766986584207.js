import{y as D,r,o as N,G as w,n as a,w as n,Q as z,m as v,C as s,A as b,aA as E,J as d,E as p,k}from"./index.eb4377b0.1766986584207.js";import{_ as T}from"./Input.4c626101.1766986584207.js";import{_ as F}from"./Divider.97fa3e74.1766986584207.js";import{_ as G}from"./DataTable.8d4e61d5.1766986584207.js";import{_ as I}from"./Spin.3ae5ee7d.1766986584207.js";import{_ as J}from"./Popconfirm.e2002990.1766986584207.js";import"./Eye.1e3444f4.1766986584207.js";import"./ArrowDown.1ae467bd.1766986584207.js";import"./Checkbox.7ca0c7f4.1766986584207.js";import"./RadioGroup.668f9840.1766986584207.js";import"./Tooltip.2d4fe76d.1766986584207.js";import"./Select.324054db.1766986584207.js";import"./Tag.ff1efa14.1766986584207.js";import"./Forward.bac4cf6f.1766986584207.js";const M=v("h1",null,"\u6807\u7B7E\u7BA1\u7406",-1),P=v("p",{style:{"font-size":"medium"}},[s(" \u4FDD\u5B58\u524D\u8BF7"),v("b",null,"\u52A1\u5FC5\u786E\u8BA4\u786E\u8BA4\u64CD\u4F5C\u65E0\u8BEF"),s("\uFF01\u8BEF\u64CD\u4F5C\u53EA\u80FD\u901A\u8FC7\u6570\u636E\u5E93\u5907\u4EFD\u6587\u4EF6\u6062\u590D\uFF0C\u5C06\u9020\u6210\u4E0D\u53EF\u4F30\u91CF\u7684\u6570\u636E\u4E22\u5931\uFF01 ")],-1),ee={__name:"tag",setup(Q){const y=D(),l=r([]),m=r([]),u=r([]),_=r([]),t=r(!1),g=e=>{l.value=e,m.value=[],u.value=[],_.value=[],t.value=!1},f=()=>{t.value=!0,b.get("/problem/tag/").then(g)};f();const C=[{title:"ID",key:"id"},{title:"\u540D\u79F0",key:"name",render(e,o){return k(T,{value:e.name,onUpdateValue(i){o<l.value.length?(l.value[o].name=i,_.value=_.value.filter(c=>c.id!==e.id),_.value.push(e)):u.value[o-l.value.length].name=i}})}},{title:"\u64CD\u4F5C",render(e){return k(p,{onClick:()=>{m.value.push(e.id),l.value=l.value.filter(o=>o.id!==e.id)}},{default:()=>"\u5220\u9664"})}}],x=()=>{u.value.push({id:"-",name:""})},V=()=>{t.value=!0,b.post("/problem/tag/",{create:u.value.map(e=>e.name),update:_.value,delete:m.value}).then(e=>{y.success("\u4FDD\u5B58\u6210\u529F"),g(e)})};return(e,o)=>{const i=F,c=G,A=I,h=E,B=J;return N(),w(z,null,[M,a(i),a(h,{vertical:"",size:"large"},{default:n(()=>[a(A,{show:t.value},{default:n(()=>[a(c,{columns:C,data:l.value.concat(u.value),bordered:!1},null,8,["data"])]),_:1},8,["show"]),a(d(p),{onClick:x},{default:n(()=>[s("\u65B0\u589E")]),_:1})]),_:1}),a(i),P,a(h,{style:{"margin-top":"20px"}},{default:n(()=>[a(B,{onPositiveClick:V},{trigger:n(()=>[a(d(p),{type:"warning",loading:t.value,disabled:t.value},{default:n(()=>[s(" \u4FDD\u5B58 ")]),_:1},8,["loading","disabled"])]),default:n(()=>[s(" \u8BF7\u518D\u6B21\u786E\u8BA4\u64CD\u4F5C\u65E0\u8BEF\uFF01 ")]),_:1}),a(d(p),{onClick:f,loading:t.value,disabled:t.value},{default:n(()=>[s(" \u91CD\u7F6E ")]),_:1},8,["loading","disabled"])]),_:1})],64)}}};export{ee as default};
