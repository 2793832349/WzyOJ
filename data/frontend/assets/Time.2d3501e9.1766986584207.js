import{a as w,g as D,f as Y,b as p}from"./index.225da447.1766986584207.js";import{d as C,u as Z}from"./Eye.1e3444f4.1766986584207.js";import{bL as R,bM as d,bN as H,bO as $,d as j,e as T,C as k,k as q}from"./index.eb4377b0.1766986584207.js";function B(r,a){R(2,arguments);var t=d(r),l=d(a),i=t.getTime()-l.getTime();return i<0?-1:i>0?1:i}function P(r){return w({},r)}var I=1e3*60,M=60*24,b=M*30,y=M*365;function V(r,a,t){var l,i,f;R(2,arguments);var m=H(),o=(l=(i=t==null?void 0:t.locale)!==null&&i!==void 0?i:m.locale)!==null&&l!==void 0?l:C;if(!o.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var x=B(r,a);if(isNaN(x))throw new RangeError("Invalid time value");var e=w(P(t),{addSuffix:Boolean(t==null?void 0:t.addSuffix),comparison:x}),s,c;x>0?(s=d(a),c=d(r)):(s=d(r),c=d(a));var v=String((f=t==null?void 0:t.roundingMethod)!==null&&f!==void 0?f:"round"),u;if(v==="floor")u=Math.floor;else if(v==="ceil")u=Math.ceil;else if(v==="round")u=Math.round;else throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");var N=c.getTime()-s.getTime(),g=N/I,E=D(c)-D(s),h=(N-E)/I,_=t==null?void 0:t.unit,n;if(_?n=String(_):g<1?n="second":g<60?n="minute":g<M?n="hour":h<b?n="day":h<y?n="month":n="year",n==="second"){var L=u(N/1e3);return o.formatDistance("xSeconds",L,e)}else if(n==="minute"){var U=u(g);return o.formatDistance("xMinutes",U,e)}else if(n==="hour"){var z=u(g/60);return o.formatDistance("xHours",z,e)}else if(n==="day"){var F=u(h/M);return o.formatDistance("xDays",F,e)}else if(n==="month"){var S=u(h/b);return S===12&&_!=="month"?o.formatDistance("xYears",1,e):o.formatDistance("xMonths",S,e)}else if(n==="year"){var A=u(h/y);return o.formatDistance("xYears",A,e)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function O(r){R(1,arguments);var a=$(r);return d(a*1e3)}const G={time:{type:[Number,Date],default:void 0},type:{type:String,default:"datetime"},to:{type:[Number,Date],default:void 0},unix:Boolean,format:String,text:Boolean,timeZone:String},W=j({name:"Time",props:G,setup(r){const a=Date.now(),{localeRef:t,dateLocaleRef:l}=Z("Time"),i=T(()=>{const{timeZone:e}=r;return e?(s,c,v)=>Y(s,e,c,v):p}),f=T(()=>({locale:l.value.locale})),m=T(()=>{const{time:e}=r;return r.unix?e===void 0?a:O(typeof e=="number"?e:e.valueOf()):e!=null?e:a}),o=T(()=>{const{to:e}=r;return r.unix?e===void 0?a:O(typeof e=="number"?e:e.valueOf()):e!=null?e:a});return{renderedTime:T(()=>r.format?i.value(m.value,r.format,f.value):r.type==="date"?i.value(m.value,t.value.dateFormat,f.value):r.type==="datetime"?i.value(m.value,t.value.dateTimeFormat,f.value):V(m.value,o.value,{addSuffix:!0,locale:l.value.locale}))}},render(){return this.text?k(this.renderedTime):q("time",[this.renderedTime])}});export{W as _};
